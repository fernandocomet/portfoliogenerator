(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{35:function(e,t,a){},36:function(e,t,a){},43:function(e,t,a){e.exports=a(84)},48:function(e,t,a){},49:function(e,t,a){},67:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},68:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(39),l=a.n(o),i=(a(48),a(3)),c=a(5),s=a(7),u=a(6),m=a(8),h=(a(49),a(21)),f=a(20),d=a(11),p=a(18),g=a.n(p),b=function e(){var t=this;Object(i.a)(this,e),this.signup=function(e,a){return t.service.post("/signup",{username:e,password:a}).then((function(e){return e.data}))},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/currentUser").then((function(e){return e.data}))},this.logout=function(){return t.service.get("/logout").then((function(e){return e.data}))},this.service=g.a.create({baseURL:"http://localhost:4000/api/auth",withCredentials:!0})},v=(a(67),a(68),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleLogout=function(e){a.props.logout()},a.state={loggedInUser:null},a.service=new b,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(f.a)({},this.state,{loggedInUser:e.userInSession}))}},{key:"render",value:function(){return this.state.loggedInUser?r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark container-fluid"},r.a.createElement("span",{className:"navbar-brand",href:"#"},"PortfolioGenerator"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarText"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/home",className:"nav-link"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/match",className:"nav-link"},"Match")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/portfolios",className:"nav-link"},"Portfolios"))),r.a.createElement("div",{className:"navbar-collapse collapse w-100 order-3 dual-collapse2"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link"},this.state.loggedInUser.username)),r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link"},r.a.createElement("span",{onClick:this.handleLogout},"Logout"))))))):r.a.createElement("div",null,r.a.createElement("nav",{className:"nav-style"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(d.b,{to:"/signup"},"Signup")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/login"},"Login")))))}}]),t}(n.Component)),E=a(16),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.signup(t,n).then((function(e){a.setState({username:"",password:""}),a.props.getUser(e.user)})).catch((function(e){a.setState({username:t,password:n,error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(E.a)({},n,r))},a.state={username:"",password:""},a.service=new b,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h3",null,"Welcome!, create your account next:"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{type:"submit",value:"Sign up"})),r.a.createElement("h1",null,this.state.error?"Error":""))}}]),t}(n.Component),w=(a(74),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then((function(e){a.setState({username:t,password:n,error:!1}),a.props.getUser(e)})).catch((function(e){a.setState({username:t,password:n,error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(E.a)({},n,r))},a.state={username:"",password:""},a.service=new b,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login"},r.a.createElement("span",{className:"megatitle"},"Portfolio Generator"),r.a.createElement("span",{className:"megasubtitle"},"Create multiple portfolios at once. If you are a web designer, an illustrator and a photographer, now you can have a portfolio for each one of your profiles. It is easy and fast. We have big achievements in the job market using our tool. "),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Username: "),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Password: "),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{type:"submit",value:"Login"})),r.a.createElement("h1",null,this.state.error?"Error":""))}}]),t}(n.Component)),C=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(n.Component),N=function e(){var t=this;Object(i.a)(this,e),this.getAllUsers=function(){return t.service.get("/allusers").then((function(e){return e.data}))},this.getUserDetail=function(){return t.service.get("/user/:id").then((function(e){return e.data}))},this.getPortfoliosFromUser=function(e){return t.service.get("/userportfolios",e).then((function(e){return e.data}))},this.createPortfolioPost=function(e){return t.service.post("/newportfolio",e).then((function(e){return e.data}))},this.getAllPortfolios=function(){return t.service.get("/allportfolios").then((function(e){return e.data}))},this.getPortfolioDetail=function(e){return t.service.get("/portfolio/".concat(e)).then((function(e){return e.data}))},this.getPortfolioWorks=function(e){return t.service.get("/portfolio/".concat(e,"/works")).then((function(t){return console.log("getPortfolioWorks"),console.log(e),t.data}))},this.deletePortfolio=function(e){return t.service.delete("/portfolio/delete/".concat(e)).then((function(e){return e.data}))},this.createPortfolioGet=function(){return t.service.get("/newportfolio").then((function(e){return e.data}))},this.editPortfolioToGet=function(){return t.service.get("/portfolio/:id").then((function(e){return e.data}))},this.editPortfolioToPost=function(e){return t.service.get("/editportfolio/".concat(e)).then((function(e){return e.data}))},this.editPortfolioCover=function(){return t.service.post("/editportfoliocover/:id").then((function(e){return e.data}))},this.service=g.a.create({baseURL:"http://localhost:4000/api/portfolios",withCredentials:!0})},O=(a(35),function(e){var t=e._id,a=e.title,n=e.subtitle,o=e.imagecover,l=e.deletePortfolio;return r.a.createElement("div",{className:"card2 text-white bg-dark mb-3 border border-white"},r.a.createElement("img",{src:o,width:"240px",className:"card-img-top",alt:"whatever"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},a),r.a.createElement("p",{className:"card-text2"},n),r.a.createElement("button",{className:"btn btn-link"},r.a.createElement(d.b,{to:{pathname:"/portfolio/".concat(t)}},"See more")),r.a.createElement("button",{className:"btn btn-link",onClick:function(e){return function(e){e.preventDefault(),l({_id:t})}(e)}},"Delete")))}),j=function(){return r.a.createElement("div",{className:"card2 text-white bg-dark mb-3 border border-white"},r.a.createElement("img",{src:"https://source.unsplash.com/collection/429524/800x450",width:"240px",className:"card-img-top",alt:"whatever"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Create a new Portfolio"),r.a.createElement("p",{className:"card-text"}),r.a.createElement("button",{className:"btn btn-link"},r.a.createElement(d.b,{to:{pathname:"/newportfolio"}},"Create now"))))},y=(a(75),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a.getPortfoliosFromUser()},a.getPortfoliosFromUser=function(){a.services.getPortfoliosFromUser(a.state.userId).then((function(e){return a.setState({portfolios:e})})).catch((function(e){return console.log(e)}))},a.deletePortfolio=function(e){var t=e._id;a.services.deletePortfolio(t).then((function(){return a.updatePortfolio()})).catch((function(e){return console.log(e)}))},a.updatePortfolio=function(){a.services.getPortfoliosFromUser(a.state.userId).then((function(e){return a.setState({portfolios:e})})).then((function(){return a.props.updatePortfolio()})).catch((function(e){return console.log(e)}))},a.state={portfolios:[],userId:a.props.userData._id},a.services=new N,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"content"},r.a.createElement("h1",null,"Portfolios"),r.a.createElement("div",{className:"containerList"},this.state.portfolios.length?this.state.portfolios.map((function(t){return r.a.createElement(O,{_id:t._id,key:t._id,alias:t.alias,title:t.title,subtitle:t.subtitle,imagecover:t.imagecover,deletePortfolio:function(t){return e.deletePortfolio(t)}})})):r.a.createElement("p",null,"CARGANDO...")),r.a.createElement(j,{refreshList:this.getPortfoliosFromUser}))}}]),t}(n.Component)),P=function e(){var t=this;Object(i.a)(this,e),this.getWorksFromUser=function(e){return t.service.get("/userworks",e).then((function(e){return e.data}))},this.getAllWorks=function(){return t.service.get("/allworks").then((function(e){return e.data}))},this.getWorkDetail=function(e){return t.service.get("/work/".concat(e)).then((function(e){return e.data}))},this.deleteWork=function(e){t.service.delete("/work/delete/".concat(e)).then((function(e){return e.data}))},this.createWorkGet=function(){return t.service.get("/newwork").then((function(e){return e.data}))},this.createPortfolioPost=function(e){return t.service.post("/newportfolio",e).then((function(e){return e.data}))},this.createWorkPost=function(e){return t.service.post("/newwork",e).then((function(e){return e.data}))},this.editWorkToGet=function(){return t.service.get("/editwork/:id").then((function(e){return e.data}))},this.editWorkToPost=function(){return t.service.post("/editwork/:id").then((function(e){return e.data}))},this.deleteWorkImage=function(){return t.service.delete("/deleteImageWork/:id").then((function(e){return e.data}))},this.createImageWork=function(){return t.service.post("/uploadImageWork/:id").then((function(e){return e.data}))},this.service=g.a.create({baseURL:"http://localhost:4000/works",withCredentials:!0})},U=(a(36),function(e){var t=e._id,a=e.title,n=e.subtitle,o=(e.description,e.image),l=e.deleteWork;return r.a.createElement("div",null,r.a.createElement("div",{className:"card2 text-white bg-dark mb-3 border border-white"},r.a.createElement("img",{src:o,width:"240px",className:"card-img-top",alt:"whatever"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},a),r.a.createElement("p",{className:"card-text2"},n),r.a.createElement("button",{className:"btn btn-link"},r.a.createElement(d.b,{to:{pathname:"/work/".concat(t)}},"See more")),r.a.createElement("button",{className:"btn btn-link",onClick:function(e){return function(e){e.preventDefault(),l({_id:t})}(e)}},"Delete"))))}),S=function(){return r.a.createElement("div",{className:"card2 text-white bg-dark mb-3 border border-white"},r.a.createElement("img",{src:"https://source.unsplash.com/collection/429524/800x450",width:"240px",className:"card-img-top",alt:"whatever"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Create a new Work"),r.a.createElement("p",{className:"card-text"}),r.a.createElement("button",{className:"btn btn-link"},r.a.createElement(d.b,{to:{pathname:"/newwork"}},"Create now"))))},W=(a(76),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a.getWorksFromUser()},a.getWorksFromUser=function(){a.services.getWorksFromUser(a.state.userId).then((function(e){return a.setState({works:e})})).catch((function(e){return console.log(e)}))},a.deleteWork=function(e){var t=e._id;a.services.deleteWork(t),setTimeout((function(){return a.updateWork()}),1e3)},a.updateWork=function(){a.services.getWorksFromUser(a.state.userId).then((function(e){return console.log(e),a.setState({works:e})}))},a.state={works:[],userId:a.props.userData._id},a.services=new P,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"content"},r.a.createElement("h1",null,"Works"),r.a.createElement("div",{className:"containerList"},this.state.works.length?this.state.works.map((function(t){return r.a.createElement(U,{_id:t._id,key:t._id,title:t.title,subtitle:t.subtitle,description:t.description,image:t.image,deleteWork:function(t){return e.deleteWork(t)}})})):r.a.createElement("p",null,"CARGANDO...")),r.a.createElement(S,{refreshList:this.getWorksFromUser}))}}]),t}(n.Component)),D=(a(77),function(){return r.a.createElement("footer",{className:"footer page-footer font-small elegant-color-dark mt-5"},r.a.createElement("div",{className:"footer-copyright text-center py-3"},"\xa9 2020 Copyright:",r.a.createElement("a",{href:"https://www.fernandocomet.com/"}," @fernandocomet")))}),x=(a(78),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a.getPortfoliosFromUser(),a.getWorksFromUser(),a.setState({portfolio:a.props.portfolioData})},a.getPortfoliosFromUser=function(){a.services.getPortfoliosFromUser().then((function(e){return a.setState({portfolios:e})})).catch((function(e){return console.log(e)}))},a.getWorksFromUser=function(){a.workservices.getWorksFromUser().then((function(e){return a.setState({works:e})})).catch((function(e){return console.log(e)}))},a.getPortfolioWorks=function(e,t){e.preventDefault(),a.services.getPortfolioWorks(t).then((function(e){return console.log(e),a.setState({portfolioworks:e})})).catch((function(e){return console.log(e)}))},a.getWorkDetail=function(e){},a.state={portfolios:[],works:[],portfolioworks:[],userId:a.props.userData._id},a.services=new N,a.workservices=new P,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"portfolios"},r.a.createElement("h2",null,"Portfolios"),this.state.portfolios.map((function(t){return r.a.createElement("ul",{className:"list-group"},r.a.createElement("button",{type:"button",className:"list-group-item list-group-item-action",onClick:function(a){return e.getPortfolioWorks(a,t._id)}}," ",t.title," ",t._id," "))}))),r.a.createElement("div",{className:"works"},r.a.createElement("h2",null,"Works"),this.state.works.map((function(e){return r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{type:"button",className:"list-group-item list-group-item-action "}," ",e.title," ",e._id," "))}))),r.a.createElement("div",{className:"PortfolioWorks"},r.a.createElement("h2",null,"Portfolio Works"),this.state.portfolioworks.map((function(e){return r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{type:"button",className:"list-group-item list-group-item-action "}," ",e," "))}))))}}]),t}(n.Component)),I=function(e){e.title,e.imageUrl,e._id;return r.a.createElement("h1",null,"Final Portfolios, here will come the festival")},F=(a(79),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a.getPortfolioDetail()},a.getPortfolioDetail=function(){a.services.getPortfolioDetail(a.props.match.params.id).then((function(e){return a.setState({portfolio:e})})).catch((function(e){return console.log(e)}))},a.state={portfolio:null},a.services=new N,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"cardDetail"},this.state.portfolio?r.a.createElement("div",{className:"carding text-white bg-dark mb-3 border border-white"},r.a.createElement("img",{src:this.state.portfolio.imagecover,className:"card-img-top",alt:"whatever"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},this.state.portfolio.title),r.a.createElement("p",{className:"card-text"},this.state.portfolio.subtitle),r.a.createElement("button",{className:"btn btn-link"},r.a.createElement(d.b,{to:{pathname:"/editportfolio/".concat(this.state.portfolio._id)}},"Edit")))):console.log(this.state.portfolio))}}]),t}(n.Component)),L=(a(80),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a.getWorkDetail()},a.getWorkDetail=function(){a.services.getWorkDetail(a.props.match.params.id).then((function(e){return a.setState({work:e})})).catch((function(e){return console.log(e)}))},a.state={work:null},a.services=new P,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"cardDetail"},this.state.work?r.a.createElement("div",{className:"carding text-white bg-dark mb-3 border border-white"},r.a.createElement("img",{src:this.state.work.image,className:"card-img-top",alt:"whatever"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},this.state.work.title),r.a.createElement("p",{className:"card-text"},this.state.work.subtitle),r.a.createElement("button",{className:"btn btn-link"},r.a.createElement(d.b,{to:{pathname:"/editwork/".concat(this.state.work._id)}},"Edit")))):console.log(this.state.work))}}]),t}(n.Component)),_=a(1),G=a(14),A=function e(){var t=this;Object(i.a)(this,e),this.handleUpload=function(e){return t.service.post("/upload",e).then((function(e){return e.data}))},this.service=g.a.create({baseURL:"http://localhost:3000/api/files",withCredentials:!0})},T=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).finishAction=function(){a.props.refreshList()},a.createPortfolioPost=function(){a.portfolioServices.createPortfolioPost(a.state.portfolio).then((function(){return a.finishAction()})).catch((function(e){return console.log(e)}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState({portfolio:Object(f.a)({},a.state.portfolio,Object(E.a)({},n,r))})},a.handleSubmit=function(e){e.preventDefault(),a.createPortfolioPost()},a.handleFileUpload=function(e){var t=new FormData;t.append("imagecover",e.target.files[0]),a.filesServices.handleUpload(t).then((function(e){console.log("Subida de archivo finalizada! La URL de Cloudinray es: ",e.secure_url),a.setState({portfolio:Object(f.a)({},a.state.portfolio,{imagecover:e.secure_url})})})).catch((function(e){return console.log(e)}))},a.portfolioServices=new N,a.filesServices=new A,a.state={portfolio:{alias:"",title:"",subtitle:"",imagecover:""}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(_.a,{onSubmit:this.handleSubmit},r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Alias"),r.a.createElement(_.a.Control,{type:"text",name:"alias",value:this.state.portfolio.alias,onChange:this.handleChange})),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"T\xedtulo"),r.a.createElement(_.a.Control,{type:"text",name:"title",value:this.state.portfolio.title,onChange:this.handleChange})),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Subtitle"),r.a.createElement(_.a.Control,{type:"text",name:"subtitle",value:this.state.portfolio.subtitle,onChange:this.handleChange})),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Image Cover"),r.a.createElement(_.a.Control,{type:"file",name:"imagecover",onChange:this.handleFileUpload})),r.a.createElement(G.a,{variant:"dark",type:"submit"},"Create New Portfolio"))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a.getPortfolioDetail()},a.getPortfolioDetail=function(){a.services.getPortfolioDetail(a.props.match.params.id).then((function(e){return a.setState({portfolio:e})})).catch((function(e){return console.log(e)}))},a.state={portfolio:null},a.services=new N,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Edit portfolio"),r.a.createElement(_.a,{onSubmit:this.handleSubmit},r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Alias"),r.a.createElement(_.a.Control,{type:"text",name:"alias",value:this.props.match.params.alias,onChange:this.handleChange})),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"T\xedtulo"),r.a.createElement(_.a.Control,{type:"text",name:"title",value:this.props.match.params.title,onChange:this.handleChange})),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Subtitle"),r.a.createElement(_.a.Control,{type:"text",name:"subtitle",value:this.props.match.params.subtitle,onChange:this.handleChange})),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Image Cover"),r.a.createElement(_.a.Control,{type:"file",name:"imagecover",onChange:this.handleFileUpload}),r.a.createElement(_.a.Control,{type:"text",name:"imagecover",value:this.props.match.params.imagecover,onChange:this.handleChange})),r.a.createElement(G.a,{variant:"dark",type:"submit"},"Save Portfolio")))}}]),t}(n.Component),R=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).finishAction=function(){a.props.refreshList()},a.createWorkPost=function(){a.workServices.createWorkPost(a.state.portfolio).then((function(){return a.finishAction()})).catch((function(e){return console.log(e)}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState({work:Object(f.a)({},a.state.work,Object(E.a)({},n,r))})},a.handleSubmit=function(e){e.preventDefault(),a.createWorkPost()},a.handleFileUpload=function(e){var t=new FormData;t.append("image",e.target.files[0]),a.filesServices.handleUpload(t).then((function(e){console.log("Subida de archivo finalizada! La URL de Cloudinray es: ",e.secure_url),a.setState({work:Object(f.a)({},a.state.work,{image:e.secure_url})})})).catch((function(e){return console.log(e)}))},a.workServices=new P,a.filesServices=new A,a.state={work:{title:"",subtitle:"",description:"",image:""}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(_.a,{onSubmit:this.handleSubmit},r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Title"),r.a.createElement(_.a.Control,{type:"text",name:"title",value:this.state.work.title,onChange:this.handleChange})),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Subtitle"),r.a.createElement(_.a.Control,{type:"text",name:"subtitle",value:this.state.work.subtitle,onChange:this.handleChange})),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Description"),r.a.createElement(_.a.Control,{type:"text",name:"description",value:this.state.work.description,onChange:this.handleChange})),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Image Work"),r.a.createElement(_.a.Control,{type:"file",name:"image",onChange:this.handleFileUpload})),r.a.createElement(G.a,{variant:"dark",type:"submit"},"Create New Work"))}}]),t}(n.Component),z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a.getWorkDetail()},a.getWorkDetail=function(){a.services.getWorkDetail(a.props.match.params.id).then((function(e){return a.setState({work:e})})).catch((function(e){return console.log(e)}))},a.state={work:null},a.services=new P,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Edit work"),r.a.createElement(_.a,{onSubmit:this.handleSubmit},r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Title"),r.a.createElement(_.a.Control,{type:"text",name:"title",value:this.props.match.params.title,onChange:this.handleChange})),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Subtitle"),r.a.createElement(_.a.Control,{type:"text",name:"subtitle",value:this.props.match.params.subtitle,onChange:this.handleChange})),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Description"),r.a.createElement(_.a.Control,{type:"text",name:"description",value:this.props.match.params.description,onChange:this.handleChange})),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Image Work"),r.a.createElement(_.a.Control,{type:"file",name:"image",onChange:this.handleFileUpload})),r.a.createElement(G.a,{variant:"dark",type:"submit"},"Create New Work")))}}]),t}(n.Component),B=(a(38),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).componentDidUpdate=function(e,t){return console.log("App Updated:",a.state)},a.componentDidMount=function(){return a.fetchUser()},a.getUser=function(e){a.setState({loggedInUser:e})},a.logout=function(){a.service.logout().then((function(){a.setState({loggedInUser:null})}))},a.updatePortfolio=function(e){e.preventDefault(),a.services.getPortfoliosFromUser(a.state.loggedInUser._id).then((function(e){return a.setState({portfolios:e})})).catch((function(e){return console.log(e)}))},a.state={loggedInUser:null,portfolios:null},a.service=new b,a.services=new N,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"fetchUser",value:function(){var e=this;return this.service.loggedin().then((function(t){e.setState({loggedInUser:t})})).catch((function(t){e.setState({loggedInUser:!1})}))}},{key:"render",value:function(){var e=this;return this.state.loggedInUser?r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{to:"/home"}),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(v,{userInSession:this.state.loggedInUser,logout:this.logout}),r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/portfolio/:id",render:function(e){return r.a.createElement(F,e)}}),r.a.createElement(h.b,{path:"/newportfolio",render:function(e){return r.a.createElement(T,e)}}),r.a.createElement(h.b,{path:"/editportfolio/:id",render:function(e){return r.a.createElement(M,e)}}),r.a.createElement(h.b,{path:"/work/:id",render:function(e){return r.a.createElement(L,e)}}),r.a.createElement(h.b,{path:"/newwork",render:function(e){return r.a.createElement(R,e)}}),r.a.createElement(h.b,{path:"/editwork/:id",render:function(e){return r.a.createElement(z,e)}}),r.a.createElement(h.b,{exact:!0,path:"/match",render:function(t){return r.a.createElement(x,{userData:e.state.loggedInUser,portfolioData:e.state.portfolios})}}),r.a.createElement(h.b,{exact:!0,path:"/portfolios",component:I}),r.a.createElement(h.b,{path:"/home",render:function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{userData:e.state.loggedInUser,updatePortfolio:function(t){return e.updatePortfolio(t)}}),r.a.createElement(W,{userData:e.state.loggedInUser}))}})),r.a.createElement(C,null),r.a.createElement(D,null)))):r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{to:"/login"}),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(v,{userInSession:this.state.loggedInUser,logout:this.logout}),r.a.createElement(h.d,null,r.a.createElement("div",{className:"tolog"},r.a.createElement(h.b,{exact:!0,path:"/signup",render:function(){return r.a.createElement(k,{getUser:e.getUser})}}),r.a.createElement(h.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(w,{getUser:e.getUser})}}))))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(83);l.a.render(r.a.createElement(d.a,null,r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.528c6dd3.chunk.js.map